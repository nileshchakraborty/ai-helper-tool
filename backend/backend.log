
> backend@1.0.0 start
> node dist/src/index.js

[dotenv@17.2.3] injecting env (0) from dist/.env -- tip: üîê prevent building .env in docker: https://dotenvx.com/prebuild
[AIRouter] OpenAI key missing. Skipping provider.
{"level":30,"time":1765423431356,"pid":32720,"hostname":"Nileshs-MacBook-Pro.local","msg":"Server listening at http://127.0.0.1:3000"}
Server running at http://localhost:3000
{"level":30,"time":1765423431356,"pid":32720,"hostname":"Nileshs-MacBook-Pro.local","msg":"Server listening at http://10.0.0.192:3000"}
MCP Server running on stdio
[MCP] Connected to server at /Users/nileshchakraborty/workspace/ai-manager/backend/dist/src/mcp-server/index.js
[AIOrchestrator] MCP Tools available: get_system_info
{"level":30,"time":1765423453757,"pid":32720,"hostname":"Nileshs-MacBook-Pro.local","reqId":"req-1","req":{"method":"POST","url":"/v1/auth/signup","host":"localhost:3000","remoteAddress":"127.0.0.1","remotePort":62701},"msg":"incoming request"}
[AuthMiddleware] Request URL: /v1/auth/signup
{"level":50,"time":1765423453762,"pid":32720,"hostname":"Nileshs-MacBook-Pro.local","reqId":"req-1","req":{"method":"POST","url":"/v1/auth/signup","host":"localhost:3000","remoteAddress":"127.0.0.1","remotePort":62701},"res":{"statusCode":500},"err":{"type":"AggregateError","message":"","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1134:18)\n    at afterConnectMultiple (node:net:1715:7)","aggregateErrors":[{"type":"Error","message":"connect ECONNREFUSED ::1:5432","stack":"Error: connect ECONNREFUSED ::1:5432\n    at createConnectionError (node:net:1678:14)\n    at afterConnectMultiple (node:net:1708:16)","errno":-61,"code":"ECONNREFUSED","syscall":"connect","address":"::1","port":5432},{"type":"Error","message":"connect ECONNREFUSED 127.0.0.1:5432","stack":"Error: connect ECONNREFUSED 127.0.0.1:5432\n    at createConnectionError (node:net:1678:14)\n    at afterConnectMultiple (node:net:1708:16)","errno":-61,"code":"ECONNREFUSED","syscall":"connect","address":"127.0.0.1","port":5432}],"code":"ECONNREFUSED"},"msg":""}
{"level":30,"time":1765423453764,"pid":32720,"hostname":"Nileshs-MacBook-Pro.local","reqId":"req-1","res":{"statusCode":500},"responseTime":7.032833009958267,"msg":"request completed"}
{"level":30,"time":1765423453798,"pid":32720,"hostname":"Nileshs-MacBook-Pro.local","reqId":"req-2","req":{"method":"POST","url":"/v1/behavioral/answer","host":"localhost:3000","remoteAddress":"127.0.0.1","remotePort":62705},"msg":"incoming request"}
[AuthMiddleware] Request URL: /v1/behavioral/answer
[AuthMiddleware] Verifying for: /v1/behavioral/answer
{"level":30,"time":1765423453799,"pid":32720,"hostname":"Nileshs-MacBook-Pro.local","reqId":"req-2","res":{"statusCode":401},"err":{"type":"FastifyError","message":"Authorization token is invalid: The token is malformed.","stack":"FastifyError: Authorization token is invalid: The token is malformed.\n    at decode (/Users/nileshchakraborty/workspace/ai-manager/backend/node_modules/@fastify/jwt/jwt.js:236:15)\n    at _Request.requestVerify [as jwtVerify] (/Users/nileshchakraborty/workspace/ai-manager/backend/node_modules/@fastify/jwt/jwt.js:492:26)\n    at useGlobalOptions (/Users/nileshchakraborty/workspace/ai-manager/backend/node_modules/@fastify/jwt/jwt.js:455:31)\n    at new Promise (<anonymous>)\n    at _Request.requestVerify [as jwtVerify] (/Users/nileshchakraborty/workspace/ai-manager/backend/node_modules/@fastify/jwt/jwt.js:454:14)\n    at Object.<anonymous> (/Users/nileshchakraborty/workspace/ai-manager/backend/dist/src/gateway/middleware/auth.js:20:27)\n    at hookIterator (/Users/nileshchakraborty/workspace/ai-manager/backend/node_modules/fastify/lib/hooks.js:408:10)\n    at next (/Users/nileshchakraborty/workspace/ai-manager/backend/node_modules/fastify/lib/hooks.js:242:18)\n    at handleResolve (/Users/nileshchakraborty/workspace/ai-manager/backend/node_modules/fastify/lib/hooks.js:253:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","code":"FST_JWT_AUTHORIZATION_TOKEN_INVALID","name":"FastifyError","statusCode":401},"msg":"Authorization token is invalid: The token is malformed."}
{"level":30,"time":1765423453799,"pid":32720,"hostname":"Nileshs-MacBook-Pro.local","reqId":"req-2","res":{"statusCode":401},"responseTime":0.9987089931964874,"msg":"request completed"}
{"level":30,"time":1765423453806,"pid":32720,"hostname":"Nileshs-MacBook-Pro.local","reqId":"req-3","req":{"method":"POST","url":"/v1/coding/assist","host":"localhost:3000","remoteAddress":"127.0.0.1","remotePort":62707},"msg":"incoming request"}
[AuthMiddleware] Request URL: /v1/coding/assist
[AuthMiddleware] Verifying for: /v1/coding/assist
{"level":30,"time":1765423453806,"pid":32720,"hostname":"Nileshs-MacBook-Pro.local","reqId":"req-3","res":{"statusCode":401},"err":{"type":"FastifyError","message":"Authorization token is invalid: The token is malformed.","stack":"FastifyError: Authorization token is invalid: The token is malformed.\n    at decode (/Users/nileshchakraborty/workspace/ai-manager/backend/node_modules/@fastify/jwt/jwt.js:236:15)\n    at _Request.requestVerify [as jwtVerify] (/Users/nileshchakraborty/workspace/ai-manager/backend/node_modules/@fastify/jwt/jwt.js:492:26)\n    at useGlobalOptions (/Users/nileshchakraborty/workspace/ai-manager/backend/node_modules/@fastify/jwt/jwt.js:455:31)\n    at new Promise (<anonymous>)\n    at _Request.requestVerify [as jwtVerify] (/Users/nileshchakraborty/workspace/ai-manager/backend/node_modules/@fastify/jwt/jwt.js:454:14)\n    at Object.<anonymous> (/Users/nileshchakraborty/workspace/ai-manager/backend/dist/src/gateway/middleware/auth.js:20:27)\n    at hookIterator (/Users/nileshchakraborty/workspace/ai-manager/backend/node_modules/fastify/lib/hooks.js:408:10)\n    at next (/Users/nileshchakraborty/workspace/ai-manager/backend/node_modules/fastify/lib/hooks.js:242:18)\n    at handleResolve (/Users/nileshchakraborty/workspace/ai-manager/backend/node_modules/fastify/lib/hooks.js:253:7)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","code":"FST_JWT_AUTHORIZATION_TOKEN_INVALID","name":"FastifyError","statusCode":401},"msg":"Authorization token is invalid: The token is malformed."}
{"level":30,"time":1765423453806,"pid":32720,"hostname":"Nileshs-MacBook-Pro.local","reqId":"req-3","res":{"statusCode":401},"responseTime":0.5422079861164093,"msg":"request completed"}
